---
title: ⚙️ Shared Config
date:
  created: 2025-07-19
sidebarTitle: Shared Config
description: >
  Standardized configuration anchors for Docker Compose including logging, labels, and resource limits to ensure consistency across services.
---

# ⚙️ Shared Config

The following shared anchors are used across services in your docker-compose.yml file to ensure consistent configuration for logging, labeling, and resource limits.

```yaml copy showLineNumbers filename="logging.yml"
x-logging: &default-logging
  driver: 'loki'
  options: &default-logging-options
    loki-url: https://loki.${SYNOLOGY_BASIC_URL}/loki/api/v1/push
    loki-retries: 5
    loki-batch-size: 400
    loki-batch-wait: 2s
    loki-timeout: 10s
    loki-max-backoff: 5s
    loki-min-backoff: 1s
    loki-tenant-id: default
```

## **Standardized labels for Docker services**

```yaml copy showLineNumbers filename="labels.yml"
x-labels: &default-labels
  com.centurylinklabs.watchtower.enable: true
  recreat.container: true
  container.label.group: setup
```

## **Standardized Resource Limits for Docker services**

The following shared anchors ensure consistent behavior across your `docker-compose.yml`:

```yaml copy showLineNumbers filename="resources.yml"
x-resource-limits: &default-resource-limits
  deploy:
    resources:
      limits:
        cpus: '0.50'
        memory: 512M
      reservations:
        cpus: '0.25'
        memory: 256M
```

## Example Usage

Here's how to implement these shared anchors in a service definition:

```yaml copy showLineNumbers filename="compose.yml"
version: '3.8'

services:
  nginx:
    image: nginx:latest
    <<: *default-labels
    <<: *default-resource-limits
    logging: *default-logging
    ports:
      - "80:80"
    environment:
      - SYNOLOGY_BASIC_URL=yourdomain.com

  postgres:
    image: postgres:15
    <<: *default-labels
    <<: *default-resource-limits
    logging: *default-logging
    environment:
      POSTGRES_PASSWORD: example
      - SYNOLOGY_BASIC_URL=yourdomain.com
    volumes:
      - pgdata:/var/lib/postgresql/data

x-logging: &default-logging
  driver: "loki"
  options: &default-logging-options
    loki-url: https://loki.${SYNOLOGY_BASIC_URL}/loki/api/v1/push
    loki-retries: 5
    loki-batch-size: 400
    loki-batch-wait: 2s
    loki-timeout: 10s
    loki-max-backoff: 5s
    loki-min-backoff: 1s
    loki-tenant-id: default

x-labels: &default-labels
  com.centurylinklabs.watchtower.enable: true
  recreat.container: true
  container.label.group: setup

x-resource-limits: &default-resource-limits
  deploy:
    resources:
      limits:
        cpus: '0.50'
        memory: 512M
      reservations:
        cpus: '0.25'
        memory: 256M

volumes:
  pgdata:
```
